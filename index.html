<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Elementaljs by elementaljs</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>Elementaljs</h1>
        <p></p>

        <p class="view"><a href="https://github.com/elementaljs/elementaljs">View the Project on GitHub <small>elementaljs/elementaljs</small></a></p>


        <ul>
          <li><a href="https://github.com/elementaljs/elementaljs/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/elementaljs/elementaljs/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/elementaljs/elementaljs">View On <strong>GitHub</strong></a></li>
        </ul>
      </header>
      <section>
        <h1>Getting Started</h1>

<p><a href="https://travis-ci.org/elementaljs/elementaljs"><img src="https://travis-ci.org/elementaljs/elementaljs.png?branch=master" alt="Build Status"></a>
<a href="https://gemnasium.com/elementaljs/elementaljs"><img src="https://gemnasium.com/elementaljs/elementaljs.png" alt="Dependency Status"></a></p>

<h2>Dependencies</h2>

<p>Currenty, elemental.js depends on jQuery, we'll try and refactor it out, but in this early stage you'll need it too. Sorry.</p>

<h2>Rails Gem</h2>

<p>In order to use in Rails, a Gem is available which integrates with the asset pipeline.</p>

<p>gem 'elementaljs-rails'</p>

<h2>Running</h2>

<p>Drop the elemental.js file into your project and load the container you want to apply this library too. In most cases you'll want to apply to the whole document.</p>

<pre><code>(document).ready(function() {
  Elemental.load(document);
});
</code></pre>

<p>Then in any HTML, you can add a behavior through a data attribute.</p>

<pre><code>&lt;div data-behavior="Mybehavior"&gt;&lt;/div&gt;
</code></pre>

<p>After load, ElementalJS will look for any elements with the data-behavior attribute and run the function named.  It will pass the containing element through to the behavior so that the function can apply behaviors directly to that element and it's children.</p>

<pre><code>MyBehavior = function(element) {
  alert(element);
}
</code></pre>

<p>The behavior names can be namespaced so you can have HTML that looks like:</p>

<pre><code>&lt;button data-behavior="My.App.ButtonClick"&gt;&lt;/button&gt;
</code></pre>

<p>It is possible to either use fully qualified function names, or you can tell Elemental about a namespace where the function lives.</p>

<pre><code>My = {
  App: {
    ButtonClick: function(element){
      element.bind('click', function() {
        alert('button was clicked');
      });
    }
  }
};
Elemental.addNamespace(My.App);

$(document).ready(function() {
  Elemental.load(document);
});
</code></pre>

<p>Then in your HTML, you can put the function name without the namespace.</p>

<pre><code>&lt;button data-behavior="ButtonClick"&gt;&lt;/button&gt;
</code></pre>

<h1>Available Behaviors</h1>

<h2>Javascript enabled</h2>

<p>This behavior adds a class of 'js' to the element it's included on. This is useful for stylesheets to target environments knowing that Javascript is enabled or not. For maximum benefit, include this behavior on the body element.</p>

<ul>
<li>Include the file in src/behaviors/javascript_enabled.js</li>
<li>Add 'Elemental.JavascriptEnabled' to the body element</li>
</ul><h2>Reload element</h2>

<p>This behavior will hit the server on the current URI with a header, x-pjax=true. It will then insert the response into the HTML of the element.</p>

<p>Your server should only return the element which is being replace, and should use the x-pjax header to tell if it should do that.</p>

<h1>Why</h1>

<h2>What about unobtrusive javascript?</h2>

<p>There are four components of unobtrusive javascript</p>

<ul>
<li>Usability</li>
<li>Graceful degradation</li>
<li>Accessibility</li>
<li>Seperation</li>
</ul><p>While three of the four components don't really affect this project, the forth, seperation of concern between the presentation layer and the Javascript, does.</p>

<p>The <a href="http://en.wikipedia.org/wiki/Unobtrusive_JavaScript#Separation_of_behavior_from_markup">section on seperation of concerns on Wikipedia covers this concern well.</a> This project is quite clearly encouraging the use of putting behavior into the presentation. What's different this time around?</p>

<p>Using this project or this pattern we are not expressively stating what events to fire upon (e.g. onclick or onchange), we are just defining a behavior that wraps this element. One of the concerns addressed in the seperation of concerns section in the Wikipedia article is ease of development but by defining small behaviors they canbe easily seperated into their own files which are easy to test. This reduces the concern about maintainablilty.</p>

<p>Having the indication about what behaviors are applied to an element can also be useful in discoverability. With the seperation between presentation and behavior it can be difficult finding what code is being executed over a part of the DOM. With the behavior, you can narrow that down to a single file and get to where you need to be all that much quicker.</p>

<h2>What about unobtrusive HTML?</h2>

<p>Many Javascript applications will be loaded when the DOM has finished loading and will generally search the entire DOM for elements to attach events to. Using Elemental the element gets passed into the function that contains the behavior. This enables that function to search the DOM locally and reduce the chance of any changes to the DOM affecting the applications javascript.</p>

<h1>Development</h1>

<h2>Dependencies</h2>

<p>You'll need bundler to install the Rubygem dependencies for the build process.</p>

<pre><code>gem install bundler
bundle install --binstubs
</code></pre>

<p>When you're developing, run the following command to use binaries in the bin folder that bundler has installed there.</p>

<pre><code>export PATH=`pwd`/bin:$PATH
</code></pre>

<h2>Tests</h2>

<h3>Jasmine</h3>

<p>To get Jasmine up and running, run the following rake task</p>

<pre><code>rake jasmine
</code></pre>

<p>Then point your browser to http://localhost:8888</p>

<h3>Continuous Integration</h3>

<p>A rake task called 'ci' will run JSLint and Jasmine tests.</p>

<pre><code>rake ci
</code></pre>

<h1>Contributing</h1>

<p>Fork this project and create a new branch. Make the code changes including tests and then send a pull request.</p>

<h1>Next Steps</h1>

<p>We will look to add common behaviors and refactor out the dependency on jQuery. We think it'd be better to create a separate project for common behaviors using different libraries, i.e. elemental-jquery.</p>
      </section>
      <footer>
        <p>This project is maintained by <a href="https://github.com/elementaljs">elementaljs</a></p>
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </footer>
    </div>
    <script src="javascripts/scale.fix.js"></script>
              <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-26466641-1");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>

  </body>
</html>
